var Xr,di=Object.defineProperty,zr=e=>{throw TypeError(e)},vi=(e,t,n)=>t in e?di(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ne=(e,t,n)=>vi(e,"symbol"!=typeof t?t+"":t,n),Or=(e,t,n)=>t.has(e)||zr("Cannot "+n),H=(e,t,n)=>(Or(e,t,"read from private field"),n?n.call(e):t.get(e)),Mt=(e,t,n)=>t.has(e)?zr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Vt=(e,t,n,r)=>(Or(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);let hi="5",gi=(typeof window<"u"&&((Xr=window.__svelte??(window.__svelte={})).v??(Xr.v=new Set)).add(hi),1),_i=4,mi=8,pi=16,wi=1,bi=2,Yt="[",Qr="[!",en="]",Je={},Y=Symbol(),yi="http://www.w3.org/1999/xhtml",Fr=!1,oe=2,tn=4,It=8,Wt=16,we=32,Oe=64,bt=128,re=256,yt=512,K=1024,be=2048,et=4096,Ke=8192,St=16384,Ei=32768,Zt=65536,$i=1<<19,rn=1<<20,ut=Symbol("$state"),nn=Symbol("legacy props"),xi=Symbol("");var Ur,_n,mn,pn,ln=Array.isArray,ki=Array.prototype.indexOf,Ci=Array.from,Et=Object.keys,$t=Object.defineProperty,Pe=Object.getOwnPropertyDescriptor,Ai=Object.getOwnPropertyDescriptors,Ri=Object.prototype,Ii=Array.prototype,an=Object.getPrototypeOf;function on(e){for(var t=0;t<e.length;t++)e[t]()}let Si="u"<typeof requestIdleCallback?e=>setTimeout(e,1):requestIdleCallback,dt=[],vt=[];function sn(){var e=dt;dt=[],on(e)}function fn(){var e=vt;vt=[],on(e)}function Gt(e){0===dt.length&&queueMicrotask(sn),dt.push(e)}function Ti(e){0===vt.length&&Si(fn),vt.push(e)}function Mr(){0<dt.length&&sn(),0<vt.length&&fn()}function un(e){return e===this.v}function Ni(e,t){return e!=e?t==t:e!==t||null!==e&&"object"==typeof e||"function"==typeof e}function cn(e){return!Ni(e,this.v)}function Li(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Di(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Pi(e){throw new Error("https://svelte.dev/e/effect_orphan")}function zi(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Oi(){throw new Error("https://svelte.dev/e/hydration_failed")}function Fi(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Mi(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Vi(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ui(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function ji(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let qi=!1;function ue(e,t){return{f:0,v:e,reactions:null,equals:un,rv:0,wv:0}}function He(e){return Bi(ue(e))}function dn(e,t=!1){e=ue(e);return t||(e.equals=cn),e}function Bi(e){return null===k||ae||0==(k.f&oe)||(null===ce?Ji([e]):ce.push(e)),e}function P(e,t){return null===k||ae||!Nn()||0==(k.f&(oe|Wt))||null!==ce&&ce.includes(e)||ji(),Hi(e,t)}function Hi(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=bn(),vn(e,be),null!==A&&0!=(A.f&K)&&0==(A.f&(we|Oe))&&(null===ge?Ki([e]):ge.push(e))),t}function vn(e,t){var n=e.reactions;if(null!==n)for(var r=n.length,l=0;l<r;l++){var o=n[l],i=o.f;0==(i&be)&&(de(o,t),0!=(i&(K|re)))&&(0!=(i&oe)?vn(o,et):Lt(o))}}function De(e){var t=oe|be,n=null!==k&&0!=(k.f&oe)?k:null;return null===A||null!==n&&0!=(n.f&re)?t|=re:A.f|=rn,{ctx:q,deps:null,effects:null,equals:un,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:n??A}}function hn(e){var t=e.effects;if(null!==t){e.effects=null;for(var n=0;n<t.length;n+=1)pe(t[n])}}function Yi(e){for(var t=e.parent;null!==t;){if(0==(t.f&oe))return t;t=t.parent}return null}function Wi(e){var t,n=A;Se(Yi(e));try{hn(e),t=En(e)}finally{Se(n)}return t}function gn(e){var t=Wi(e);de(e,!Ce&&0==(e.f&re)||null===e.deps?K:et),e.equals(t)||(e.v=t,e.wv=bn())}function Tt(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let D=!1;function Ge(e){D=e}let z;function Re(e){if(null===e)throw Tt(),Je;return z=e}function Xe(){return Re(Te(z))}function Z(e){if(D){if(null!==Te(z))throw Tt(),Je;z=e}}function Zi(){for(var e=0,t=z;;){if(8===t.nodeType){var n=t.data;if(n===en){if(0===e)return t;--e}else n!==Yt&&n!==Qr||(e+=1)}n=Te(t);t.remove(),t=n}}function le(i,e=0,t){var n,u,c,f,v;return"object"!=typeof i||null===i||ut in i||(n=an(i))!==Ri&&n!==Ii?i:(u=new Map,c=ln(i),f=ue(0),c&&u.set("length",ue(i.length)),new Proxy(i,{defineProperty(e,t,n){"value"in n&&!1!==n.configurable&&!1!==n.enumerable&&!1!==n.writable||Mi();var r=u.get(t);return void 0===r?(r=ue(n.value),u.set(t,r)):P(r,le(n.value,v)),!0},deleteProperty(e,t){var n=u.get(t);return void 0===n?t in e&&u.set(t,ue(Y)):(c&&"string"==typeof t&&(e=u.get("length"),t=Number(t),Number.isInteger(t))&&t<e.v&&P(e,t),P(n,Y),Vr(f)),!0},get(e,t,n){var r,l,o;return t===ut?i:(r=u.get(t),l=t in e,void 0===r&&(!l||null!=(o=Pe(e,t))&&o.writable)&&(r=ue(le(l?e[t]:Y,v)),u.set(t,r)),void 0!==r?(o=d(r))===Y?void 0:o:Reflect.get(e,t,n))},getOwnPropertyDescriptor(e,t){e=Reflect.getOwnPropertyDescriptor(e,t);if(e&&"value"in e){var n=u.get(t);n&&(e.value=d(n))}else if(void 0===e){n=u.get(t),t=null==n?void 0:n.v;if(void 0!==n&&t!==Y)return{enumerable:!0,configurable:!0,value:t,writable:!0}}return e},has(e,t){var n;if(t===ut)return!0;var r=u.get(t),l=void 0!==r&&r.v!==Y||Reflect.has(e,t);if((void 0!==r||null!==A&&(!l||null!=(n=Pe(e,t))&&n.writable))&&(void 0===r&&(r=ue(l?le(e[t],v):Y),u.set(t,r)),d(r)===Y))return!1;return l},set(e,t,n,r){var l=u.get(t),o=t in e;if(c&&"length"===t)for(var i=n;i<l.v;i+=1){var a=u.get(i+"");void 0!==a?P(a,Y):i in e&&(a=ue(Y),u.set(i+"",a))}void 0===l?(!o||null!=(s=Pe(e,t))&&s.writable)&&(P(l=ue(void 0),le(n,v)),u.set(t,l)):(o=l.v!==Y,P(l,le(n,v)));var s=Reflect.getOwnPropertyDescriptor(e,t);return null!=s&&s.set&&s.set.call(r,n),o||(c&&"string"==typeof t&&(s=u.get("length"),r=Number(t),Number.isInteger(r))&&r>=s.v&&P(s,r+1),Vr(f)),!0},ownKeys(e){d(f);var t,n,r=Reflect.ownKeys(e).filter(e=>{e=u.get(e);return void 0===e||e.v!==Y});for([t,n]of u)n.v===Y||t in e||r.push(t);return r},setPrototypeOf(){Vi()}}))}function Vr(e,t=1){P(e,e.v+t)}function Ut(){var e,t;void 0===Ur&&(Ur=window,_n=/Firefox/.test(navigator.userAgent),e=Element.prototype,t=Node.prototype,mn=Pe(t,"firstChild").get,pn=Pe(t,"nextSibling").get,e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0,Text.prototype.__t=void 0)}function Jt(e=""){return document.createTextNode(e)}function me(e){return mn.call(e)}function Te(e){return pn.call(e)}function G(e,t){var n;return D?(Re(n=null===(n=me(z))?z.appendChild(Jt()):n),n):me(e)}function jr(e,t){return D?z:(e=me(e))instanceof Comment&&""===e.data?Te(e):e}function he(e,t=1,n=!1){let r=D?z:e;for(var l;t--;)r=Te(l=r);return D?(e=null==r?void 0:r.nodeType,n&&3!==e?(n=Jt(),null===r?null!=l&&l.after(n):r.before(n),Re(n),n):(Re(r),r)):r}function Gi(e){e.textContent=""}let pt=!1,xt=!1,kt=null,ze=!1,Kt=!1;function qr(e){Kt=e}let ct=[],k=null,ae=!1;function Ie(e){k=e}let A=null;function Se(e){A=e}let ce=null;function Ji(e){ce=e}let j=null,J=0,ge=null;function Ki(e){ge=e}let wn=1,Ct=0,Ce=!1;function bn(){return++wn}function ht(e){var t,n=e.f;if(0!=(n&be))return!0;if(0!=(n&et)){var r=e.deps,l=0!=(n&re);if(null!==r){var o,i=0!=(n&yt),n=l&&null!==A&&!Ce,a=r.length;if(i||n){for(var s=e,u=s.parent,c=0;c<a;c++)o=r[c],!i&&null!=(t=null==o?void 0:o.reactions)&&t.includes(s)||(o.reactions??(o.reactions=[])).push(s);i&&(s.f^=yt),n&&null!==u&&0==(u.f&re)&&(s.f^=re)}for(c=0;c<a;c++)if(ht(o=r[c])&&gn(o),o.wv>e.wv)return!0}l&&(null===A||Ce)||de(e,K)}return!1}function Xi(e,t){for(var n=t;null!==n;){if(0!=(n.f&bt))try{return void n.fn(e)}catch{n.f^=bt}n=n.parent}throw pt=!1,e}function Qi(e){return 0==(e.f&St)&&(null===e.parent||0==(e.parent.f&bt))}function Nt(e,t,n,r){if(pt){if(null===n&&(pt=!1),Qi(t))throw e}else null!==n&&(pt=!0),Xi(e,t)}function yn(e,t,n=!0){var r=e.reactions;if(null!==r)for(var l=0;l<r.length;l++){var o=r[l];0!=(o.f&oe)?yn(o,t,!1):t===o&&(n?de(o,be):0!=(o.f&K)&&de(o,et),Lt(o))}}function En(e){var t,n=j,r=J,l=ge,o=k,i=Ce,a=ce,s=q,u=ae,c=e.f;j=null,J=0,ge=null,Ce=0!=(c&re)&&(ae||!ze||null===k),k=0==(c&(we|Oe))?e:null,ce=null,Hr(e.ctx),ae=!1,Ct++;try{var d,f=(0,e.fn)(),v=e.deps;if(null!==j){if(At(e,J),null!==v&&0<J)for(v.length=J+j.length,d=0;d<j.length;d++)v[J+d]=j[d];else e.deps=v=j;if(!Ce)for(d=J;d<v.length;d++)((t=v[d]).reactions??(t.reactions=[])).push(e)}else null!==v&&J<v.length&&(At(e,J),v.length=J);if(Nn()&&null!==ge&&!ae&&null!==v&&0==(e.f&(oe|et|be)))for(d=0;d<ge.length;d++)yn(ge[d],e);return null!==o&&Ct++,f}finally{j=n,J=r,ge=l,k=o,Ce=i,ce=a,Hr(s),ae=u}}function el(e,t){let n=t.reactions,r,l;null!==n&&-1!==(r=ki.call(n,e))&&(0==(l=n.length-1)?n=t.reactions=null:(n[r]=n[l],n.pop())),null!==n||0==(t.f&oe)||null!==j&&j.includes(t)||(de(t,et),0==(t.f&(re|yt))&&(t.f^=yt),hn(t),At(t,0))}function At(e,t){var n=e.deps;if(null!==n)for(var r=t;r<n.length;r++)el(e,n[r])}function Xt(t){var e=t.f;if(0==(e&St)){de(t,K);var n=A,r=q,l=ze;A=t,ze=!0;try{(0!=(e&Wt)?cl:kn)(t),xn(t);var o=En(t);t.teardown="function"==typeof o?o:null,t.wv=wn;Fr&&qi&&(t.f,be)}catch(e){Nt(e,t,n,r||t.ctx)}finally{ze=l,A=n}}}function tl(){try{zi()}catch(e){if(null===kt)throw e;Nt(e,kt,null)}}function $n(){var e=ze;try{var t=0;for(ze=!0;0<ct.length;){1e3<t++&&tl();var n=ct,r=n.length;ct=[];for(var l=0;l<r;l++)rl(nl(n[l]))}}finally{xt=!1,ze=e,kt=null}}function rl(e){var t=e.length;if(0!==t)for(var n=0;n<t;n++){var r=e[n];if(0==(r.f&(St|Ke)))try{ht(r)&&(Xt(r),null===r.deps)&&null===r.first&&null===r.nodes_start&&(null===r.teardown?Cn(r):r.fn=null)}catch(e){Nt(e,r,null,r.ctx)}}}function Lt(e){xt||(xt=!0,queueMicrotask($n));for(var t=kt=e;null!==t.parent;){var n=(t=t.parent).f;if(0!=(n&(Oe|we))){if(0==(n&K))return;t.f^=K}}ct.push(t)}function nl(e){for(var t=[],n=e;null!==n;){var r=n.f,l=0!=(r&(we|Oe));if(!(l&&0!=(r&K))&&0==(r&Ke)){if(0!=(r&tn))t.push(n);else if(l)n.f^=K;else{r=k;try{ht(k=n)&&Xt(n)}catch(e){Nt(e,n,null,n.ctx)}finally{k=r}}l=n.first;if(null!==l){n=l;continue}}for(var o=n.parent,n=n.next;null===n&&null!==o;)n=o.next,o=o.parent}return t}function x(e){for(Mr();0<ct.length;)xt=!0,$n(),Mr()}async function il(){await Promise.resolve(),x()}function d(e){var t,n,r=0!=(e.f&oe);return null===k||ae?r&&null===e.deps&&null===e.effects&&null!==(n=(t=e).parent)&&0==(n.f&re)&&(t.f^=re):(null!==ce&&ce.includes(e)&&Ui(),n=k.deps,e.rv<Ct&&(e.rv=Ct,null===j&&null!==n&&n[J]===e?J++:null===j?j=[e]:Ce&&j.includes(e)||j.push(e))),r&&ht(t=e)&&gn(t),e.v}function Qe(e){var t=ae;try{return ae=!0,e()}finally{ae=t}}let ll=-7169;function de(e,t){e.f=e.f&ll|t}function al(e){null===A&&null===k&&Pi(),null!==k&&0!=(k.f&re)&&null===A&&Di(),Kt&&Li()}function ol(e,t){var n=t.last;null===n?t.last=t.first=e:((n.next=e).prev=n,t.last=e)}function Fe(t,e,n,r=!0){var l=A,t={ctx:q,deps:null,nodes_start:null,nodes_end:null,f:t|be,first:null,fn:e,last:null,next:null,parent:l,prev:null,teardown:null,transitions:null,wv:0};if(n)try{Xt(t),t.f|=Ei}catch(e){throw pe(t),e}else null!==e&&Lt(t);return!(n&&null===t.deps&&null===t.first&&null===t.nodes_start&&null===t.teardown&&0==(t.f&(rn|bt)))&&r&&(null!==l&&ol(t,l),null!==k)&&0!=(k.f&oe)&&((e=k).effects??(e.effects=[])).push(t),t}function sl(e){var t=Fe(It,null,!1);return de(t,K),t.teardown=e,t}function jt(e){var t;if(al(),!(null!==A&&0!=(A.f&we)&&null!==q&&!q.m))return Qt(e);((t=q).e??(t.e=[])).push({fn:e,effect:A,reaction:k})}function fl(e){let t=Fe(Oe,e,!0);return()=>{pe(t)}}function ul(e){let n=Fe(Oe,e,!0);return(t={})=>new Promise(e=>{t.outro?qt(n,()=>{pe(n),e(void 0)}):(pe(n),e(void 0))})}function Qt(e){return Fe(tn,e,!1)}function er(e){return Fe(It,e,!0)}function Ye(e,t=[],n=De){let r=t.map(n);return tr(()=>e(...r.map(d)))}function tr(e,t=0){return Fe(It|Wt|t,e,!0)}function Rt(e,t=!0){return Fe(It|we,e,!0,t)}function xn(e){e=e.teardown;if(null!==e){var t=Kt,n=k;qr(!0),Ie(null);try{e.call(null)}finally{qr(t),Ie(n)}}}function kn(e,t=!1){var n=e.first;for(e.first=e.last=null;null!==n;){var r=n.next;0!=(n.f&Oe)?n.parent=null:pe(n,t),n=r}}function cl(e){for(var t=e.first;null!==t;){var n=t.next;0==(t.f&we)&&pe(t),t=n}}function pe(e,t=!0){var n=!1;if((t||0!=(e.f&$i))&&null!==e.nodes_start){for(var r=e.nodes_start,l=e.nodes_end;null!==r;){var o=r===l?null:Te(r);r.remove(),r=o}n=!0}kn(e,t&&!n),At(e,0),de(e,St);t=e.transitions;if(null!==t)for(var i of t)i.stop();xn(e);n=e.parent;null!==n&&null!==n.first&&Cn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Cn(e){var t=e.parent,n=e.prev,r=e.next;null!==n&&(n.next=r),null!==r&&(r.prev=n),null!==t&&(t.first===e&&(t.first=r),t.last===e)&&(t.last=n)}function qt(e,t){var n=[];An(e,n,!0),dl(n,()=>{pe(e),t&&t()})}function dl(e,t){var n=e.length;if(0<n){var r,l=()=>--n||t();for(r of e)r.out(l)}else t()}function An(e,t,n){if(0==(e.f&Ke)){if(e.f^=Ke,null!==e.transitions)for(var r of e.transitions)(r.is_global||n)&&t.push(r);for(var l=e.first;null!==l;){var o=l.next;An(l,t,(0!=(l.f&Zt)||0!=(l.f&we))&&n),l=o}}}function Br(e){Rn(e,!0)}function Rn(e,t){if(0!=(e.f&Ke)){e.f^=Ke,0==(e.f&K)&&(e.f^=K),ht(e)&&(de(e,be),Lt(e));for(var n=e.first;null!==n;){var r=n.next;Rn(n,(0!=(n.f&Zt)||0!=(n.f&we))&&t),n=r}if(null!==e.transitions)for(var l of e.transitions)(l.is_global||t)&&l.in()}}function In(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let q=null;function Hr(e){q=e}function Sn(e,t=0,n){q={p:q,c:null,e:null,m:!1,s:e,x:null,l:null}}function Tn(e){var t=q;if(null!==t){void 0!==e&&(t.x=e);var n=t.e;if(null!==n){var r=A,l=k;t.e=null;try{for(var o=0;o<n.length;o++){var i=n[o];Se(i.effect),Ie(i.reaction),Qt(i.fn)}}finally{Se(r),Ie(l)}}q=t.p,t.m=!0}return e||{}}function Nn(){return!0}let vl=["touchstart","touchmove"];function hl(e){return vl.includes(e)}let Yr=!1;function Ln(){Yr||(Yr=!0,document.addEventListener("reset",n=>{Promise.resolve().then(()=>{var e;if(!n.defaultPrevented)for(var t of n.target.elements)null!=(e=t.__on_r)&&e.call(t)})},{capture:!0}))}function Dn(e){var t=k,n=A;Ie(null),Se(null);try{return e()}finally{Ie(t),Se(n)}}function gl(e,t,n,r=n){e.addEventListener(t,()=>Dn(n));let l=e.__on_r;l?e.__on_r=()=>{l(),r(!0)}:e.__on_r=()=>r(!0),Ln()}let Pn=new Set,Bt=new Set;function _l(e,t,n,r={}){function l(e){if(r.capture||ft.call(t,e),!e.cancelBubble)return Dn(()=>null==n?void 0:n.call(this,e))}return e.startsWith("pointer")||e.startsWith("touch")||"wheel"===e?Gt(()=>{t.addEventListener(e,l,r)}):t.addEventListener(e,l,r),l}function ml(e,t,n,r,l){var o={capture:r,passive:l},i=_l(e,t,n,o);t!==document.body&&t!==window&&t!==document||sl(()=>{t.removeEventListener(e,i,o)})}function pl(e){for(var t,n=0;n<e.length;n++)Pn.add(e[n]);for(t of Bt)t(e)}function ft(e){var t=this,n=t.ownerDocument,r=e.type,l=(null==(l=e.composedPath)?void 0:l.call(e))||[],o=l[0]||e.target,i=0,a=e.__root;if(a){a=l.indexOf(a);if(-1!==a&&(t===document||t===window))return void(e.__root=t);var s=l.indexOf(t);if(-1===s)return;a<=s&&(i=a)}if((o=l[i]||e.target)!==t){$t(e,"currentTarget",{configurable:!0,get(){return o||n}});s=k,a=A;Ie(null),Se(null);try{for(var u,c=[];null!==o;){var d=o.assignedSlot||o.parentNode||o.host||null;try{var f,v,h=o["__"+r];null==h||o.disabled&&e.target!==o||(ln(h)?([f,...v]=h,f.apply(o,[e,...v])):h.call(o,e))}catch(e){u?c.push(e):u=e}if(e.cancelBubble||d===t||null===d)break;o=d}if(u){for(let e of c)queueMicrotask(()=>{throw e});throw u}}finally{e.__root=t,delete e.currentTarget,Ie(s),Se(a)}}}function rr(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Ae(e,t){var n=A;null===n.nodes_start&&(n.nodes_start=e,n.nodes_end=t)}function ve(t,e){var n,r=0!=(e&wi),l=0!=(e&bi),o=!t.startsWith("<!>");return()=>{if(D)return Ae(z,null),z;void 0===n&&(n=rr(o?t:"<!>"+t),r||(n=me(n)));var e=l||_n?document.importNode(n,!0):n.cloneNode(!0);return r?Ae(me(e),e.lastChild):Ae(e,e),e}}function wl(e,t,n="svg"){var r,l=`<${n}>${!e.startsWith("<!>")?e:"<!>"+e}</${n}>`;return()=>{var e;return D?(Ae(z,null),z):(r||(e=rr(l),r=me(me(e))),Ae(e=r.cloneNode(!0),e),e)}}function ee(e,t){D?(A.nodes_end=z,Xe()):null!==e&&e.before(t)}function zn(e,t){return On(e,t)}function bl(t,n){Ut(),n.intro=n.intro??!1;var r=n.target,e=D,l=z;try{for(var o=me(r);o&&(8!==o.nodeType||o.data!==Yt);)o=Te(o);if(!o)throw Je;Ge(!0),Re(o),Xe();var i=On(t,{...n,anchor:o});if(null===z||8!==z.nodeType||z.data!==en)throw Tt(),Je;return Ge(!1),i}catch(e){if(e===Je)return!1===n.recover&&Oi(),Ut(),Gi(r),Ge(!1),zn(t,n);throw e}finally{Ge(e),Re(l)}}let We=new Map;function On(e,{target:o,anchor:l,props:t={},events:n,context:i}){Ut();var a=new Set,s=e=>{for(var t=0;t<e.length;t++){var n,r,l=e[t];a.has(l)||(a.add(l),n=hl(l),o.addEventListener(l,ft,{passive:n}),void 0===(r=We.get(l))?(document.addEventListener(l,ft,{passive:n}),We.set(l,1)):We.set(l,r+1))}},u=(s(Ci(Pn)),Bt.add(s),void 0),r=ul(()=>{var r=l??o.appendChild(Jt());return Rt(()=>{i&&(Sn({}),q.c=i),n&&(t.$$events=n),D&&Ae(r,null),u=e(r,t)||{},D&&(A.nodes_end=z),i&&Tn()}),()=>{var e,t;for(t of a){o.removeEventListener(t,ft);var n=We.get(t);0==--n?(document.removeEventListener(t,ft),We.delete(t)):We.set(t,n)}Bt.delete(s),r!==l&&null!=(e=r.parentNode)&&e.removeChild(r)}});return Ht.set(u,r),u}let Ht=new WeakMap;function yl(e,t){var n=Ht.get(e);return n?(Ht.delete(e),n(t)):Promise.resolve()}function ke(e,t,[r,l]=[0,0]){D&&0===r&&Xe();var o=e,i=null,a=null,s=Y,e=0<r?Zt:0,n=!1;let u=(e,t=!0)=>{n=!0,c(t,e)},c=(t,n)=>{if(s!==(s=t)){let e=!1;D&&-1!==l&&(0===r&&((t=o.data)===Yt?l=0:t===Qr?l=1/0:(l=parseInt(t.substring(1)))!=l&&(l=s?1/0:-1)),!!s==r<l)&&(Re(o=Zi()),Ge(!1),e=!0,l=-1),s?(i?Br(i):n&&(i=Rt(()=>n(o))),a&&qt(a,()=>{a=null})):(a?Br(a):n&&(a=Rt(()=>n(o,[r+1,l]))),i&&qt(i,()=>{i=null})),e&&Ge(!0)}};tr(()=>{n=!1,t(u),n||c(null,null)},e),D&&(o=z)}function Ze(e,t,n,r,l){var o,i=e,a="";tr(()=>{a===(a=t()??"")?D&&Xe():(void 0!==o&&(pe(o),o=void 0),""!==a&&(o=Rt(()=>{if(D){z.data;for(var e=Xe(),t=e;null!==e&&(8!==e.nodeType||""!==e.data);)e=Te(t=e);if(null===e)throw Tt(),Je;Ae(z,t),i=Re(e)}else{var n=rr(a+"");Ae(me(n),n.lastChild),i.before(n)}})))})}function El(e,t,n,r,l){D&&Xe();var o=null==(o=t.$$slots)?void 0:o[n],n=!1;!0===o&&(o=t.children,n=!0),void 0!==o&&o(e,n?()=>r:r)}function $l(n,r){Gt(()=>{var e,t=n.getRootNode(),t=t.host?t:t.head??t.ownerDocument.head;t.querySelector("#"+r.hash)||((e=document.createElement("style")).id=r.hash,e.textContent=r.code,t.appendChild(e))})}let Wr=[...` 	
\r ﻿`];function xl(e,t,n){var r=""+e;if(n)for(var l in n)if(n[l])r=r?r+" "+l:l;else if(r.length)for(var o=l.length,i=0;0<=(i=r.indexOf(l,i));){var a=i+o;0!==i&&!Wr.includes(r[i-1])||a!==r.length&&!Wr.includes(r[a])?i=a:r=(0===i?"":r.substring(0,i))+r.substring(a+1)}return""===r?null:r}function kl(e,t,n,r,l,o){var i=e.__className;if(D||i!==n){i=xl(n,r,o);D&&i===e.getAttribute("class")||(null==i?e.removeAttribute("class"):e.className=i),e.__className=n}else if(o&&l!==o)for(var a in o){var s=!!o[a];null!=l&&s==!!l[a]||e.classList.toggle(a,s)}return o}let Cl=Symbol("is custom element"),Al=Symbol("is html");function Zr(t){var n;D&&(n=!1,Ti(t.__on_r=()=>{var e;n||(n=!0,t.hasAttribute("value")&&(e=t.value,ie(t,"value",null),t.value=e),t.hasAttribute("checked")&&(e=t.checked,ie(t,"checked",null),t.checked=e))}),Ln())}function Rl(e,t){var n=Fn(e);n.value!==(n.value=t??void 0)&&(e.value!==t||0===t&&"PROGRESS"===e.nodeName)&&(e.value=t??"")}function ie(e,t,n,r){var l=Fn(e);D&&(l[t]=e.getAttribute(t),"src"===t||"srcset"===t||"href"===t&&"LINK"===e.nodeName)||l[t]!==(l[t]=n)&&("loading"===t&&(e[xi]=n),null==n?e.removeAttribute(t):"string"!=typeof n&&Il(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Fn(e){return e.__attributes??(e.__attributes={[Cl]:e.nodeName.includes("-"),[Al]:e.namespaceURI===yi})}var _e,te,Gr=new Map;function Il(e){var t=Gr.get(e.nodeName);if(!t){Gr.set(e.nodeName,t=[]);for(var n,r=e,l=Element.prototype;l!==r;){for(var o in n=Ai(r))n[o].set&&t.push(o);r=an(r)}}return t}function Sl(t,n,r=n){gl(t,"change",e=>{e=e?t.defaultChecked:t.checked;r(e)}),(D&&t.defaultChecked!==t.checked||null==Qe(n))&&r(t.checked),er(()=>{var e=n();t.checked=!!e})}function Jr(e,t){return e===t||(null==e?void 0:e[ut])===t}function Kr(n={},r,l,e){return Qt(()=>{var e,t;return er(()=>{e=t,t=[],Qe(()=>{n!==l(...t)&&(r(n,...t),e)&&Jr(l(...e),n)&&r(null,...e)})}),()=>{Gt(()=>{t&&Jr(l(...t),n)&&r(null,...t)})}}),n}function Mn(t){null===q&&In(),jt(()=>{var e=Qe(t);if("function"==typeof e)return e})}function Tl(e){null===q&&In(),Mn(()=>()=>Qe(e))}let mt=!1;function Nl(e){var t=mt;try{return mt=!1,[e(),mt]}finally{mt=t}}function C(t,n,e,r){var l,o,i,a,s,u,c,f=0!=(e&gi),v=0!=(e&mi),h=0!=(e&pi),p=!1,g=(v?[o,p]=Nl(()=>t[n]):o=t[n],ut in t||nn in t),m=v&&((null==(l=Pe(t,n))?void 0:l.set)??(g&&n in t&&(e=>t[n]=e)))||void 0,w=r,y=!0,b=!1,$=()=>(b=!0,y&&(y=!1,w=h?Qe(r):r),w);return void 0===o&&void 0!==r&&(m&&Fi(),o=$(),m)&&m(o),i=()=>{var e=t[n];return void 0===e?$():(b=!(y=!0),e)},0==(e&_i)?i:m?(a=t.$$legacy,function(e,t){return 0<arguments.length?(t&&!a&&!p||m(t?i():e),e):i()}):(s=!1,u=dn(o),c=De(()=>{var e=i(),t=d(u);return s?(s=!1,t):u.v=e}),f||(c.equals=cn),function(e,t){return 0<arguments.length?(t=t?d(c):v?le(e):e,c.equals(t)||(s=!0,P(u,t),b&&void 0!==w&&(w=t),Qe(()=>d(c))),e):d(c)})}function Ll(e){return new Dl(e)}class Dl{constructor(e){Mt(this,_e),Mt(this,te);var t,r=new Map,l=(e,t)=>{t=dn(t);return r.set(e,t),t};let n=new Proxy({...e.props||{},$$events:{}},{get(e,t){return d(r.get(t)??l(t,Reflect.get(e,t)))},has(e,t){return t===nn||(d(r.get(t)??l(t,Reflect.get(e,t))),Reflect.has(e,t))},set(e,t,n){return P(r.get(t)??l(t,n),n),Reflect.set(e,t,n)}});Vt(this,te,(e.hydrate?bl:zn)(e.component,{target:e.target,anchor:e.anchor,props:n,context:e.context,intro:e.intro??!1,recover:e.recover})),null!=(t=null==e?void 0:e.props)&&t.$$host&&!1!==e.sync||x(),Vt(this,_e,n.$$events);for(let t of Object.keys(H(this,te)))"$set"!==t&&"$destroy"!==t&&"$on"!==t&&$t(this,t,{get(){return H(this,te)[t]},set(e){H(this,te)[t]=e},enumerable:!0});H(this,te).$set=e=>{Object.assign(n,e)},H(this,te).$destroy=()=>{yl(H(this,te))}}$set(e){H(this,te).$set(e)}$on(e,t){H(this,_e)[e]=H(this,_e)[e]||[];let n=(...e)=>t.call(this,...e);return H(this,_e)[e].push(n),()=>{H(this,_e)[e]=H(this,_e)[e].filter(e=>e!==n)}}$destroy(){H(this,te).$destroy()}}_e=new WeakMap,te=new WeakMap;let Vn;function wt(e,t,n,r){var l=null==(l=n[e])?void 0:l.type;if(t="Boolean"===l&&"boolean"!=typeof t?null!=t:t,!r||!n[e])return t;if("toAttribute"===r)switch(l){case"Object":case"Array":return null==t?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(l){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return null!=t?+t:t;default:return t}}function Pl(e){let t={};return e.childNodes.forEach(e=>{t[e.slot||"default"]=!0}),t}function zl(e,l,t,n,r,o){let i=class extends Vn{constructor(){super(e,t,r),this.$$p_d=l}static get observedAttributes(){return Et(l).map(e=>(l[e].attribute||e).toLowerCase())}};return Et(l).forEach(r=>{$t(i.prototype,r,{get(){return(this.$$c&&r in this.$$c?this.$$c:this.$$d)[r]},set(e){e=wt(r,e,l),this.$$d[r]=e;var t,n=this.$$c;n&&((null==(t=Pe(n,r))?void 0:t.get)?n[r]=e:n.$set({[r]:e}))}})}),n.forEach(t=>{$t(i.prototype,t,{get(){var e;return null==(e=this.$$c)?void 0:e[t]}})}),e.element=i}"function"==typeof HTMLElement&&(Vn=class extends HTMLElement{constructor(e,t,n){super(),ne(this,"$$ctor"),ne(this,"$$s"),ne(this,"$$c"),ne(this,"$$cn",!1),ne(this,"$$d",{}),ne(this,"$$r",!1),ne(this,"$$p_d",{}),ne(this,"$$l",{}),ne(this,"$$l_u",new Map),ne(this,"$$me"),this.$$ctor=e,this.$$s=t,n&&this.attachShadow({mode:"open"})}addEventListener(e,t,n){var r;this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c&&(r=this.$$c.$on(e,t),this.$$l_u.set(t,r)),super.addEventListener(e,t,n)}removeEventListener(e,t,n){super.removeEventListener(e,t,n),this.$$c&&(e=this.$$l_u.get(t))&&(e(),this.$$l_u.delete(t))}async connectedCallback(){if(this.$$cn=!0,!this.$$c){var e=function(n){return e=>{var t=document.createElement("slot");"default"!==n&&(t.name=n),ee(e,t)}};if(await Promise.resolve(),this.$$cn&&!this.$$c){var t,n,r,l,o={},i=Pl(this);for(t of this.$$s)t in i&&("default"!==t||this.$$d.children?o[t]=e(t):(this.$$d.children=e(t),o.default=!0));for(n of this.attributes){var a=this.$$g_p(n.name);a in this.$$d||(this.$$d[a]=wt(a,n.value,this.$$p_d,"toProp"))}for(r in this.$$p_d)r in this.$$d||void 0===this[r]||(this.$$d[r]=this[r],delete this[r]);for(l in this.$$c=Ll({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:o,$$host:this}}),this.$$me=fl(()=>{er(()=>{var e,t;this.$$r=!0;for(e of Et(this.$$c))null!=(t=this.$$p_d[e])&&t.reflect&&(this.$$d[e]=this.$$c[e],null==(t=wt(e,this.$$d[e],this.$$p_d,"toAttribute"))?this.removeAttribute(this.$$p_d[e].attribute||e):this.setAttribute(this.$$p_d[e].attribute||e,t));this.$$r=!1})}),this.$$l)for(var s of this.$$l[l]){var u=this.$$c.$on(l,s);this.$$l_u.set(s,u)}this.$$l={}}}}attributeChangedCallback(e,t,n){this.$$r||(e=this.$$g_p(e),this.$$d[e]=wt(e,n,this.$$p_d,"toProp"),null==(n=this.$$c))||n.$set({[e]:this.$$d[e]})}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return Et(this.$$p_d).find(e=>this.$$p_d[e].attribute===t||!this.$$p_d[e].attribute&&e.toLowerCase()===t)||t}});let Un=new TextEncoder;function Ol(e){return[...new Uint8Array(e)].map(e=>e.toString(16).padStart(2,"0")).join("")}async function Fl(e,t="SHA-256",n=1e5){var r=Date.now().toString(16);return{algorithm:t,challenge:await jn(r,e=e||Math.round(Math.random()*n),t),salt:r,signature:""}}async function jn(e,t,n){if(!("u"<typeof crypto)&&"subtle"in crypto&&"digest"in crypto.subtle)return Ol(await crypto.subtle.digest(n.toUpperCase(),Un.encode(e+t)));throw new Error("Web Crypto is not available. Secure context is required (https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts).")}function Ml(t,n,r="SHA-256",l=1e6,o=0){let i=new AbortController,a=Date.now();return{promise:(async()=>{for(let e=o;e<=l;e+=1){if(i.signal.aborted)return null;if(await jn(n,e,r)===t)return{number:e,took:Date.now()-a}}return null})(),controller:i}}function Vl(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch{}}function Ul(e){var t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}function jl(t,n=12){var r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t%256,t=Math.floor(t/256);return r}async function ql(e,t="",n=1e6,r=0){let l="AES-GCM",o=new AbortController,i=Date.now(),a=null,s=null;try{s=Ul(e);var u=await crypto.subtle.digest("SHA-256",Un.encode(t));a=await crypto.subtle.importKey("raw",u,l,!1,["decrypt"])}catch{return{promise:Promise.reject(),controller:o}}return{promise:(async()=>{for(let e=r;e<=n;e+=1){if(o.signal.aborted||!a||!s)return null;try{var t=await crypto.subtle.decrypt({name:l,iv:jl(e)},a,s);if(t)return{clearText:(new TextDecoder).decode(t),took:Date.now()-i}}catch{}}return null})(),controller:o}}var E=(e=>(e.ERROR="error",e.VERIFIED="verified",e.VERIFYING="verifying",e.UNVERIFIED="unverified",e.EXPIRED="expired",e))(E||{}),Bl=wl('<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="svelte-ddsc3z"><path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" fill="currentColor" opacity=".25" class="svelte-ddsc3z"></path><path d="M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z" fill="currentColor" class="altcha-spinner svelte-ddsc3z"></path></svg>'),Hl=ve('<span role="status" aria-live="polite" class="svelte-ddsc3z"><!></span> <input type="hidden" class="svelte-ddsc3z">',1),Yl=ve('<span role="status" aria-live="polite" class="svelte-ddsc3z"><!></span>'),Wl=ve('<label class="svelte-ddsc3z"><!></label>'),Zl=ve('<div class="svelte-ddsc3z"><a target="_blank" class="altcha-logo svelte-ddsc3z"><svg width="22" height="22" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg" class="svelte-ddsc3z"><path d="M2.33955 16.4279C5.88954 20.6586 12.1971 21.2105 16.4279 17.6604C18.4699 15.947 19.6548 13.5911 19.9352 11.1365L17.9886 10.4279C17.8738 12.5624 16.909 14.6459 15.1423 16.1284C11.7577 18.9684 6.71167 18.5269 3.87164 15.1423C1.03163 11.7577 1.4731 6.71166 4.8577 3.87164C8.24231 1.03162 13.2883 1.4731 16.1284 4.8577C16.9767 5.86872 17.5322 7.02798 17.804 8.2324L19.9522 9.01429C19.7622 7.07737 19.0059 5.17558 17.6604 3.57212C14.1104 -0.658624 7.80283 -1.21043 3.57212 2.33956C-0.658625 5.88958 -1.21046 12.1971 2.33955 16.4279Z" fill="currentColor" class="svelte-ddsc3z"></path><path d="M3.57212 2.33956C1.65755 3.94607 0.496389 6.11731 0.12782 8.40523L2.04639 9.13961C2.26047 7.15832 3.21057 5.25375 4.8577 3.87164C8.24231 1.03162 13.2883 1.4731 16.1284 4.8577L13.8302 6.78606L19.9633 9.13364C19.7929 7.15555 19.0335 5.20847 17.6604 3.57212C14.1104 -0.658624 7.80283 -1.21043 3.57212 2.33956Z" fill="currentColor" class="svelte-ddsc3z"></path><path d="M7 10H5C5 12.7614 7.23858 15 10 15C12.7614 15 15 12.7614 15 10H13C13 11.6569 11.6569 13 10 13C8.3431 13 7 11.6569 7 10Z" fill="currentColor" class="svelte-ddsc3z"></path></svg></a></div>'),Gl=ve('<div class="svelte-ddsc3z"><!></div>'),Jl=ve('<div class="svelte-ddsc3z"><!></div>'),Kl=ve('<div class="altcha-error svelte-ddsc3z"><svg width="14" height="14" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="svelte-ddsc3z"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" class="svelte-ddsc3z"></path></svg> <!></div>'),Xl=ve('<div class="altcha-footer svelte-ddsc3z"><div class="svelte-ddsc3z"><!></div></div>'),Ql=ve('<div class="altcha-anchor-arrow svelte-ddsc3z"></div>'),ea=ve('<!> <div class="altcha svelte-ddsc3z"><div class="altcha-main svelte-ddsc3z"><!> <div><input type="checkbox" class="svelte-ddsc3z"></div> <div class="altcha-label svelte-ddsc3z"><!></div> <!></div> <!> <!> <!></div>',1);let ta={hash:"svelte-ddsc3z",code:`.altcha.svelte-ddsc3z {background:var(--altcha-color-base, transparent);border:var(--altcha-border-width, 1px) solid var(--altcha-color-border, #a0a0a0);border-radius:var(--altcha-border-radius, 3px);color:var(--altcha-color-text, currentColor);display:flex;flex-direction:column;max-width:var(--altcha-max-width, 260px);position:relative;text-align:left;}.altcha.svelte-ddsc3z:focus-within {border-color:var(--altcha-color-border-focus, currentColor);}.altcha[data-floating].svelte-ddsc3z {background:var(--altcha-color-base, white);display:none;filter:drop-shadow(3px 3px 6px rgba(0, 0, 0, 0.2));left:-100%;position:fixed;top:-100%;width:var(--altcha-max-width, 260px);z-index:999999;}.altcha[data-floating=top].svelte-ddsc3z .altcha-anchor-arrow:where(.svelte-ddsc3z) {border-bottom-color:transparent;border-top-color:var(--altcha-color-border, #a0a0a0);bottom:-12px;top:auto;}.altcha[data-floating=bottom].svelte-ddsc3z:focus-within::after {border-bottom-color:var(--altcha-color-border-focus, currentColor);}.altcha[data-floating=top].svelte-ddsc3z:focus-within::after {border-top-color:var(--altcha-color-border-focus, currentColor);}.altcha[data-floating].svelte-ddsc3z:not([data-state=unverified]) {display:block;}.altcha-anchor-arrow.svelte-ddsc3z {border:6px solid transparent;border-bottom-color:var(--altcha-color-border, #a0a0a0);content:"";height:0;left:12px;position:absolute;top:-12px;width:0;}.altcha-main.svelte-ddsc3z {align-items:center;display:flex;gap:0.4rem;padding:0.7rem;}.altcha-label.svelte-ddsc3z {flex-grow:1;}.altcha-label.svelte-ddsc3z label:where(.svelte-ddsc3z) {cursor:pointer;}.altcha-logo.svelte-ddsc3z {color:currentColor;opacity:0.3;}.altcha-logo.svelte-ddsc3z:hover {opacity:1;}.altcha-error.svelte-ddsc3z {color:var(--altcha-color-error-text, #f23939);display:flex;font-size:0.85rem;gap:0.3rem;padding:0 0.7rem 0.7rem;}.altcha-footer.svelte-ddsc3z {align-items:center;background-color:var(--altcha-color-footer-bg, transparent);display:flex;font-size:0.75rem;opacity:0.4;padding:0.2rem 0.7rem;text-align:right;}.altcha-footer.svelte-ddsc3z:hover {opacity:1;}.altcha-footer.svelte-ddsc3z > :where(.svelte-ddsc3z):first-child {flex-grow:1;}.altcha-footer.svelte-ddsc3z a {color:currentColor;}.altcha-checkbox.svelte-ddsc3z {display:flex;align-items:center;height:24px;width:24px;}.altcha-checkbox.svelte-ddsc3z input:where(.svelte-ddsc3z) {width:18px;height:18px;margin:0;}.altcha-hidden.svelte-ddsc3z {display:none;}.altcha-spinner.svelte-ddsc3z {
  animation: svelte-ddsc3z-altcha-spinner 0.75s infinite linear;transform-origin:center;}

@keyframes svelte-ddsc3z-altcha-spinner {
  100% {
    transform: rotate(360deg);
  }
}`};function ra(M,n){Sn(n,!0),$l(M,ta);let r=C(n,"auto",7,void 0),f=C(n,"blockspam",7,void 0),i=C(n,"challengeurl",7,void 0),t=C(n,"challengejson",7,void 0),a=C(n,"customfetch",7,void 0),l=C(n,"debug",7,!1),o=C(n,"delay",7,0),s=C(n,"expire",7,void 0),u=C(n,"floating",7,void 0),c=C(n,"floatinganchor",7,void 0),H=C(n,"floatingoffset",7,void 0),v=C(n,"hidefooter",7,!1),h=C(n,"hidelogo",7,!1),V=C(n,"id",7,void 0),p=C(n,"name",7,"altcha"),g=C(n,"maxnumber",7,1e6),J=C(n,"mockerror",7,!1),m=C(n,"obfuscated",7,void 0),Y=C(n,"plugins",7,void 0),U=C(n,"refetchonexpire",7,!0),w=C(n,"spamfilter",7,!1),K=C(n,"strings",7,void 0),y=C(n,"test",7,!1),b=C(n,"verifyurl",7,void 0),$=C(n,"workers",23,()=>Math.min(16,navigator.hardwareConcurrency||8)),W=C(n,"workerurl",7,void 0),B=["SHA-256","SHA-384","SHA-512"],X="Visit Altcha.org",Q="https://altcha.org/",te=(e,t)=>{n.$$host.dispatchEvent(new CustomEvent(e,{detail:t}))},ne=null==(e=null==(e=document.documentElement.lang)?void 0:e.split("-"))?void 0:e[0],re=De(()=>{var e;return i()&&new URL(i(),location.origin).host.endsWith(".altcha.org")&&!(null==(e=i())||!e.includes("apiKey=ckey_"))}),oe=De(()=>t()?$e(t()):void 0),ae=De(()=>K()?$e(K()):{}),k=De(()=>{var e;return{ariaLinkLabel:X,error:"Verification failed. Try again later.",expired:"Verification expired. Try again.",footer:`Protected by <a href="${Q}" target="_blank" aria-label="${(null==(e=d(ae))?void 0:e.ariaLinkLabel)||X}">ALTCHA</a>`,label:"I'm not a robot",verified:"Verified",verifying:"Verifying...",waitAlert:"Verifying... please wait.",...d(ae)}}),se=De(()=>V()||p()+"_checkbox"),_=He(!1),A=He(le(E.UNVERIFIED)),z=He(void 0),ue=He(null),ce=null,R=null,I=He(null),D=null,S=[],N=He(null);function de(e,t){return btoa(JSON.stringify({algorithm:e.algorithm,challenge:e.challenge,number:t.number,salt:e.salt,signature:e.signature,test:!!y()||void 0,took:t.took}))}function fe(){i()&&U()&&d(A)===E.VERIFIED?O():Le(E.EXPIRED,d(k).expired)}function L(...e){(l()||e.some(e=>e instanceof Error))&&console[e[0]instanceof Error?"error":"log"]("ALTCHA",`[name=${p()}]`,...e)}function ve(e){e=e.target;u()&&e&&!d(z).contains(e)&&(d(A)===E.VERIFIED||"off"===r()&&d(A)===E.UNVERIFIED)&&(d(z).style.display="none")}function pe(){u()&&d(A)!==E.UNVERIFIED&&xe()}function ge(e){d(A)===E.UNVERIFIED&&O()}function me(e){R&&"onsubmit"===r()?d(A)===E.UNVERIFIED?(e.preventDefault(),e.stopPropagation(),O().then(()=>{null!=R&&R.requestSubmit()})):d(A)!==E.VERIFIED&&(e.preventDefault(),e.stopPropagation(),d(A)===E.VERIFYING)&&ye():R&&u()&&"off"===r()&&d(A)===E.UNVERIFIED&&(e.preventDefault(),e.stopPropagation(),d(z).style.display="block",xe())}function we(){Le()}function ye(){d(A)===E.VERIFYING&&d(k).waitAlert&&alert(d(k).waitAlert)}function be(){u()&&xe()}function $e(e){return JSON.parse(e)}function xe(e=20){var t,n,r,l,o;d(z)&&((ce=ce||(c()?document.querySelector(c()):null==R?void 0:R.querySelector('input[type="submit"], button[type="submit"], button:not([type="button"]):not([type="reset"])'))||R)?(t=parseInt(H(),10)||12,n=ce.getBoundingClientRect(),r=d(z).getBoundingClientRect(),l=document.documentElement.clientHeight,o=document.documentElement.clientWidth,l="auto"===u()?n.bottom+r.height+t+e>l:"top"===u(),o=Math.max(e,Math.min(o-e-r.width,n.left+n.width/2-r.width/2)),d(z).style.top=l?n.top-(r.height+t)+"px":n.bottom+t+"px",d(z).style.left=o+"px",d(z).setAttribute("data-floating",l?"top":"bottom"),d(ue)&&(e=d(ue).getBoundingClientRect(),d(ue).style.left=n.left-o+n.width/2-e.width/2+"px")):L("unable to find floating anchor element"))}async function Ee(e){if(!b())throw new Error("Attribute verifyurl not set.");L("requesting server verification from",b());var t,n,r,l,o,i,a,s,e={payload:e},u=(!1!==w()&&({blockedCountries:s,classifier:c,disableRules:a,email:u,expectedLanguages:t,expectedCountries:n,fields:r,ipAddress:l,text:o,timeZone:i}="ipAddress"===w()?{blockedCountries:void 0,classifier:void 0,disableRules:void 0,email:!1,expectedCountries:void 0,expectedLanguages:void 0,fields:!1,ipAddress:void 0,text:void 0,timeZone:void 0}:"object"==typeof w()?w():{blockedCountries:void 0,classifier:void 0,disableRules:void 0,email:void 0,expectedCountries:void 0,expectedLanguages:void 0,fields:void 0,ipAddress:void 0,text:void 0,timeZone:void 0},e.blockedCountries=s,e.classifier=c,e.disableRules=a,e.email=!1!==u&&(s=u,s=null==R?void 0:R.querySelector("string"==typeof s?`input[name="${s}"]`:'input[type="email"]:not([data-no-spamfilter])'),null==(c=null==s?void 0:s.value)?void 0:c.slice(s.value.indexOf("@")))||void 0,e.expectedCountries=n,e.expectedLanguages=t||(ne?[ne]:void 0),e.fields=!1===r?void 0:(a=r,[...(null==R?void 0:R.querySelectorAll(null!=a&&a.length?a.map(e=>`input[name="${e}"]`).join(", "):'input[type="text"]:not([data-no-spamfilter]), textarea:not([data-no-spamfilter])'))||[]].reduce((e,t)=>{var n=t.name,t=t.value;return n&&t&&(e[n]=/\n/.test(t)?t.replace(new RegExp("(?<!\\r)\\n","g"),`\r
`):t),e},{})),e.ipAddress=!1===l?void 0:l||"auto",e.text=o,e.timeZone=!1===i?void 0:i||Vl()),await fetch(b(),{body:JSON.stringify(e),headers:{"content-type":"application/json"},method:"POST"}));if(200!==u.status)throw new Error(`Server responded with ${u.status}.`);var c=await u.json();if(null!=c&&c.payload&&P(N,le(c.payload)),te("serververification",c),f()&&"BAD"===c.classification)throw new Error("SpamFilter returned negative classification.")}function Ce(e){L("expire",e),D&&(clearTimeout(D),D=null),e<1?fe():D=setTimeout(fe,e)}function _e(e){L("floating",e),u()!==e&&(d(z).style.left="",d(z).style.top=""),u(!0===e||""===e?"auto":!1===e||"false"===e?void 0:u()),u()?(r()||r("onsubmit"),document.addEventListener("scroll",pe),document.addEventListener("click",ve),window.addEventListener("resize",be)):"onsubmit"===r()&&r(void 0)}function Ae(e){if(!e.algorithm)throw new Error("Invalid challenge. Property algorithm is missing.");if(void 0===e.signature)throw new Error("Invalid challenge. Property signature is missing.");if(!B.includes(e.algorithm.toUpperCase()))throw new Error("Unknown algorithm value. Allowed values: "+B.join(", "));if(!e.challenge||e.challenge.length<40)throw new Error("Challenge is too short. Min. 40 chars.");if(!e.salt||e.salt.length<10)throw new Error("Salt is too short. Min. 10 chars.")}async function ze(e){let t=null;if("Worker"in window){try{t=await(async(l,e=("number"==typeof y()?y:g)(),t=Math.ceil($()))=>{let o=[];t=Math.min(16,Math.max(1,t));for(let e=0;e<t;e++)o.push(altchaCreateWorker(W()));let i=Math.ceil(e/t),n=await Promise.all(o.map((r,e)=>{let t=e*i;return new Promise(n=>{r.addEventListener("message",e=>{if(e.data)for(var t of o)t!==r&&t.postMessage({type:"abort"});n(e.data)}),r.postMessage({payload:l,max:t+i,start:t,type:"work"})})}));for(var r of o)r.terminate();return n.find(e=>!!e)||null})(e,e.maxnumber)}catch(e){L(e)}if(void 0!==(null==t?void 0:t.number)||"obfuscated"in e)return{data:e,solution:t}}return"obfuscated"in e?{data:e,solution:await(await ql(e.obfuscated,e.key,e.maxnumber)).promise}:{data:e,solution:await Ml(e.challenge,e.salt,e.algorithm,e.maxnumber||g()).promise}}async function Re(){if(m()){var e=S.find(e=>"obfuscation"===e.constructor.pluginName);if(e&&"clarify"in e)return"clarify"in e&&"function"==typeof e.clarify?e.clarify():void 0;j(E.ERROR),L("Plugin `obfuscation` not found. Import `altcha/plugins/obfuscation` to load it.")}else j(E.ERROR)}function Ie(e){void 0!==e.obfuscated&&m(e.obfuscated),void 0!==e.auto&&(r(e.auto),"onload"===r())&&(m()?Re:O)(),void 0!==e.blockspam&&f(!!e.blockspam),void 0!==e.customfetch&&a(e.customfetch),void 0!==e.floatinganchor&&c(e.floatinganchor),void 0!==e.delay&&o(e.delay),void 0!==e.floatingoffset&&H(e.floatingoffset),void 0!==e.floating&&_e(e.floating),void 0!==e.expire&&(Ce(e.expire),s(e.expire)),e.challenge&&(t("string"==typeof e.challenge?e.challenge:JSON.stringify(e.challenge)),Ae(d(oe))),void 0!==e.challengeurl&&i(e.challengeurl),void 0!==e.debug&&l(!!e.debug),void 0!==e.hidefooter&&v(!!e.hidefooter),void 0!==e.hidelogo&&h(!!e.hidelogo),void 0!==e.maxnumber&&g(+e.maxnumber),void 0!==e.mockerror&&J(!!e.mockerror),void 0!==e.name&&p(e.name),void 0!==e.refetchonexpire&&U(!!e.refetchonexpire),void 0!==e.spamfilter&&w("object"==typeof e.spamfilter?e.spamfilter:!!e.spamfilter),e.strings&&K("string"==typeof e.strings?e.strings:JSON.stringify(e.strings)),void 0!==e.test&&y("number"==typeof e.test?e.test:!!e.test),void 0!==e.verifyurl&&b(e.verifyurl),void 0!==e.workers&&$(+e.workers),void 0!==e.workerurl&&W(e.workerurl)}function Pe(){return{auto:r(),blockspam:f(),challengeurl:i(),debug:l(),delay:o(),expire:s(),floating:u(),floatinganchor:c(),floatingoffset:H(),hidefooter:v(),hidelogo:h(),name:p(),maxnumber:g(),mockerror:J(),obfuscated:m(),refetchonexpire:U(),spamfilter:w(),strings:d(k),test:y(),verifyurl:b(),workers:$(),workerurl:W()}}function Se(){return ce}function Ne(){return d(A)}function Le(e=E.UNVERIFIED,t=null){D&&(clearTimeout(D),D=null),P(_,!1),P(N,null),j(e,t)}function je(e){ce=e}function j(e,t=null){P(A,le(e)),P(I,le(t)),te("statechange",{payload:d(N),state:d(A)})}async function O(){return Le(E.VERIFYING),await new Promise(e=>setTimeout(e,o()||0)),(async()=>{if(J())throw L("mocking error"),new Error("Mocked error.");if(d(oe))return L("using provided json data"),d(oe);if(y())return L("generating test challenge",{test:y()}),Fl("boolean"!=typeof y()?+y():void 0);{if(!i()&&R&&null!=(n=R.getAttribute("action"))&&n.includes("/form/")&&i(n+"/altcha"),!i())throw new Error("Attribute challengeurl not set.");L("fetching challenge from",i());let e=null,t=null;if(a())if(L("using customfetch"),"string"==typeof a()){if(!(e=globalThis[a()]||null))throw new Error("Custom fetch function not found: "+a())}else e=a();var n={headers:!1!==w()?{"x-altcha-spam-filter":"1"}:{}};if(e){if(!((t=await e(i(),n))&&t instanceof Response))throw new Error("Custom fetch function did not return a response.")}else t=await fetch(i(),n);if(200!==t.status)throw new Error(`Server responded with ${t.status}.`);var n=t.headers.get("X-Altcha-Config"),r=await t.json(),l=new URLSearchParams(null==(l=r.salt.split("?"))?void 0:l[1]),l=l.get("expires")||l.get("expire");if(l&&(l=new Date(1e3*+l),0<(l=isNaN(l.getTime())?0:l.getTime()-Date.now()))&&Ce(l),n)try{var o=JSON.parse(n);o&&"object"==typeof o&&(o.verifyurl&&(o.verifyurl=new URL(o.verifyurl,new URL(i())).toString()),Ie(o))}catch(e){L("unable to configure from X-Altcha-Config",e)}return r}})().then(e=>(Ae(e),L("challenge",e),ze(e))).then(({data:e,solution:t})=>{if(L("solution",t),"challenge"in e&&t&&!("clearText"in t)){if(void 0===(null==t?void 0:t.number))throw L("Unable to find a solution. Ensure that the 'maxnumber' attribute is greater than the randomly generated number."),new Error("Unexpected result returned.");if(b())return Ee(de(e,t));P(N,le(de(e,t))),L("payload",d(N))}}).then(()=>{j(E.VERIFIED),L("verified"),il().then(()=>{te("verified",{payload:d(N)})})}).catch(e=>{L(e),j(E.ERROR,e.message)})}jt(()=>{d(I);for(var e of S)"function"==typeof e.onErrorChange&&e.onErrorChange(d(I))}),jt(()=>{d(A);for(var e of S)"function"==typeof e.onStateChange&&e.onStateChange(d(A));u()&&d(A)!==E.UNVERIFIED&&requestAnimationFrame(()=>{xe()}),P(_,d(A)===E.VERIFIED)}),Tl(()=>{for(var e of S)e.destroy();R&&(R.removeEventListener("submit",me),R.removeEventListener("reset",we),R.removeEventListener("focusin",ge),R=null),D&&(clearTimeout(D),D=null),document.removeEventListener("click",ve),document.removeEventListener("scroll",pe),window.removeEventListener("resize",be)}),Mn(()=>{var e;L("mounted","1.3.0"),L("workers",$());var t,n=void 0!==Y()?Y().split(","):void 0;for(t of globalThis.altchaPlugins)n&&!n.includes(t.pluginName)||S.push(new t({el:d(z),clarify:Re,dispatch:te,getConfiguration:Pe,getFloatingAnchor:Se,getState:Ne,log:L,reset:Le,solve:ze,setState:j,setFloatingAnchor:je,verify:O}));L("plugins",S.length?S.map(e=>e.constructor.pluginName).join(", "):"none"),y()&&L("using test mode"),s()&&Ce(s()),void 0!==r()&&L("auto",r()),void 0!==u()&&_e(u()),(R=null==(e=d(z))?void 0:e.closest("form"))&&(R.addEventListener("submit",me,{capture:!0}),R.addEventListener("reset",we),"onfocus"===r())&&R.addEventListener("focusin",ge),"onload"===r()&&(m()?Re:O)(),d(re)&&(v()||h())&&L("Attributes hidefooter and hidelogo ignored because usage with free API Keys requires attribution."),requestAnimationFrame(()=>{te("load")})});var e=ea(),T=jr(e),Oe=(El(T,n,"default",{}),he(T,2)),T=G(Oe),F=G(T),Te=e=>{ee(e,Bl())},Fe=(ke(F,e=>{d(A)===E.VERIFYING&&e(Te)}),he(F,2));let qe;var q=G(Fe),F=(Zr(q),q.__change=function(){[E.UNVERIFIED,E.ERROR,E.EXPIRED].includes(d(A))?!1!==w()&&!1===(null==R?void 0:R.reportValidity())?P(_,!1):(m()?Re:O)():P(_,!0)},Z(Fe),he(Fe,2)),Me=G(F),Ve=e=>{var t=Hl(),n=jr(t),r=(Ze(G(n),()=>d(k).verified),Z(n),he(n,2));Zr(r),Ye(()=>{ie(r,"name",p()),Rl(r,d(N))}),ee(e,t)},Ge=(e,t)=>{var n=e=>{var t=Yl();Ze(G(t),()=>d(k).verifying),Z(t),ee(e,t)},r=e=>{var t=Wl();Ze(G(t),()=>d(k).label),Z(t),Ye(()=>ie(t,"for",d(se))),ee(e,t)};ke(e,e=>{d(A)===E.VERIFYING?e(n):e(r,!1)},t)},Me=(ke(Me,e=>{d(A)===E.VERIFIED?e(Ve):e(Ge,!1)}),Z(F),he(F,2)),Je=e=>{var t=Zl(),n=G(t);ie(n,"href",Q),Z(t),Ye(()=>ie(n,"aria-label",d(k).ariaLinkLabel)),ee(e,t)},F=(ke(Me,e=>{!0===h()&&!d(re)||e(Je)}),Z(T),he(T,2)),Ue=e=>{var t=Kl(),n=he(G(t),2),r=e=>{var t=Gl();Ze(G(t),()=>d(k).expired),Z(t),Ye(()=>ie(t,"title",d(I))),ee(e,t)},l=e=>{var t=Jl();Ze(G(t),()=>d(k).error),Z(t),Ye(()=>ie(t,"title",d(I))),ee(e,t)};ke(n,e=>{d(A)===E.EXPIRED?e(r):e(l,!1)}),Z(t),ee(e,t)},Me=(ke(F,e=>{!d(I)&&d(A)!==E.EXPIRED||e(Ue)}),he(F,2)),Ke=e=>{var t=Xl(),n=G(t);Ze(G(n),()=>d(k).footer),Z(n),Z(t),ee(e,t)},T=(ke(Me,e=>{d(k).footer&&(!0!==v()||d(re))&&e(Ke)}),he(Me,2)),We=e=>{var t=Ql();Kr(t,e=>P(ue,e),()=>d(ue)),ee(e,t)};return ke(T,e=>{u()&&e(We)}),Z(Oe),Kr(Oe,e=>P(z,e),()=>d(z)),Ye(e=>{ie(Oe,"data-state",d(A)),ie(Oe,"data-floating",u()),qe=kl(Fe,1,"altcha-checkbox svelte-ddsc3z",null,qe,e),ie(q,"id",d(se)),q.required="onsubmit"!==r()&&(!u()||"off"!==r())},[()=>({"altcha-hidden":d(A)===E.VERIFYING})]),ml("invalid",q,ye),Sl(q,()=>d(_),e=>P(_,e)),ee(M,e),Tn({clarify:Re,configure:Ie,getConfiguration:Pe,getFloatingAnchor:Se,getPlugin:function(t){return S.find(e=>e.constructor.pluginName===t)},getState:Ne,reset:Le,setFloatingAnchor:je,setState:j,verify:O,get auto(){return r()},set auto(e=void 0){r(e),x()},get blockspam(){return f()},set blockspam(e=void 0){f(e),x()},get challengeurl(){return i()},set challengeurl(e=void 0){i(e),x()},get challengejson(){return t()},set challengejson(e=void 0){t(e),x()},get customfetch(){return a()},set customfetch(e=void 0){a(e),x()},get debug(){return l()},set debug(e=!1){l(e),x()},get delay(){return o()},set delay(e=0){o(e),x()},get expire(){return s()},set expire(e=void 0){s(e),x()},get floating(){return u()},set floating(e=void 0){u(e),x()},get floatinganchor(){return c()},set floatinganchor(e=void 0){c(e),x()},get floatingoffset(){return H()},set floatingoffset(e=void 0){H(e),x()},get hidefooter(){return v()},set hidefooter(e=!1){v(e),x()},get hidelogo(){return h()},set hidelogo(e=!1){h(e),x()},get id(){return V()},set id(e=void 0){V(e),x()},get name(){return p()},set name(e="altcha"){p(e),x()},get maxnumber(){return g()},set maxnumber(e=1e6){g(e),x()},get mockerror(){return J()},set mockerror(e=!1){J(e),x()},get obfuscated(){return m()},set obfuscated(e=void 0){m(e),x()},get plugins(){return Y()},set plugins(e=void 0){Y(e),x()},get refetchonexpire(){return U()},set refetchonexpire(e=!0){U(e),x()},get spamfilter(){return w()},set spamfilter(e=!1){w(e),x()},get strings(){return K()},set strings(e=void 0){K(e),x()},get test(){return y()},set test(e=!1){y(e),x()},get verifyurl(){return b()},set verifyurl(e=void 0){b(e),x()},get workers(){return $()},set workers(e=Math.min(16,navigator.hardwareConcurrency||8)){$(e),x()},get workerurl(){return W()},set workerurl(e=void 0){W(e),x()}})}pl(["change"]),customElements.define("altcha-widget",zl(ra,{blockspam:{type:"Boolean"},debug:{type:"Boolean"},delay:{type:"Number"},expire:{type:"Number"},floatingoffset:{type:"Number"},hidefooter:{type:"Boolean"},hidelogo:{type:"Boolean"},maxnumber:{type:"Number"},mockerror:{type:"Boolean"},refetchonexpire:{type:"Boolean"},test:{type:"Boolean"},workers:{type:"Number"},auto:{},challengeurl:{},challengejson:{},customfetch:{},floating:{},floatinganchor:{},id:{},name:{},obfuscated:{},plugins:{},spamfilter:{},strings:{},verifyurl:{},workerurl:{}},["default"],["clarify","configure","getConfiguration","getFloatingAnchor","getPlugin","getState","reset","setFloatingAnchor","setState","verify"],!1)),globalThis.altchaCreateWorker=e=>new Worker(new URL(e||"./worker.js",import.meta.url)),globalThis.altchaPlugins=globalThis.altchaPlugins||[];export{ra as Altcha};